{% extends "base.html" %}
{% block title %}Sign In{% endblock %}
{% block content %}
<div class="page-header">
  <h1>Sign In / Sign Up</h1>
  <p>Create an account or sign in to save your preferences, prayer requests, and more.</p>
</div>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div class="card">
      {% for category, message in messages %}
        <div class="alert alert-{{ category }}" style="color: {% if category == 'error' %}red{% else %}green{% endif %}; margin-bottom: 10px;">
          {{ message }}
        </div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}

<div class="card">
  <h2>Sign In</h2>
  <div style="text-align: center; margin-top: 20px;">
    <a href="/login/google" class="button"
      style="background-color: #4285F4; border: 1px solid #4285F4; padding: 12px 24px; font-size: 1.1em; color: white; text-decoration: none; display: inline-block;">
      Sign in with Google
    </a>
  </div>

  <div style="margin-top: 30px; border-top: 1px solid #eee; padding-top: 20px;">
    <h3 style="text-align: center;">Or sign in with email</h3>
    <form action="/login/email" method="POST"
      style="display: flex; flex-direction: column; gap: 15px; max-width: 400px; margin: 0 auto;">
      <div>
        <label for="email" style="display: block; margin-bottom: 5px;">Email</label>
        <input type="email" id="email" name="email" required
          style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
      </div>
      <div>
        <label for="password" style="display: block; margin-bottom: 5px;">Password</label>
        <input type="password" id="password" name="password" required
          style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
      </div>
      <button type="submit" class="button"
        style="background-color: #333; color: white; border: none; padding: 10px; font-size: 1em; cursor: pointer;">Sign
        In</button>
    </form>
    <div style="text-align: center; margin-top: 15px;">
        <a href="/forgot_password" style="font-size: 0.9em; color: #7f8c8d;">Forgot Password?</a>
    </div>
    <p style="text-align: center; margin-top: 20px;">
      Don't have an account? <a href="/register">Sign Up</a>
    </p>
  </div>
</div>
{% endblock %}