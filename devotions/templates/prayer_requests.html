{% extends "base.html" %} {% block title %}Prayer Requests{% endblock %} {% block content %}
    <div class="page-header">
      <h1>Prayer Requests</h1>
    </div>

    <div class="card">
      <h2>Submit a Prayer Request</h2>
      <p>
        Please fill out the form below to submit a prayer request. Please note that prayer requests
        are not private, anyone can see the prayer requests. Do not include sensitive information
        about yourself or others in your prayer request (e.g. email address, phone number, address,
        etc.).
      </p>
      {% if current_user.is_authenticated %}
      <form action="/add_prayer_request" method="post">
        <div style="margin-bottom: 10px">
          <label for="name">Name:</label><br />
          <input
            type="text"
            id="name"
            name="name"
            value="{{ current_user.name }}"
            required
            maxlength="100"
            class="form-input"
          />
        </div>
        <div style="margin-bottom: 10px">
          <label for="request">Prayer Request:</label><br />
          <textarea
            id="request"
            name="request"
            rows="4"
            required
            maxlength="1000"
            class="form-input"
          ></textarea>
        </div>
        <div style="margin-bottom: 10px">
          <label for="days_ttl">Days to keep request active (1-90):</label><br />
          <input
            type="number"
            id="days_ttl"
            name="days_ttl"
            min="1"
            max="90"
            value="30"
            required
            class="form-input"
          />
        </div>
        <button type="submit" class="button">Submit Request</button>
      </form>
      {% else %}
        <p style="color: #e74c3c; font-weight: bold;">You must be signed in to submit a prayer request.</p>
        <div style="margin-bottom: 10px; opacity: 0.6; pointer-events: none;">
          <div style="margin-bottom: 10px">
            <label for="name">Name:</label><br />
            <input type="text" id="name" disabled class="form-input" />
          </div>
          <div style="margin-bottom: 10px">
            <label for="request">Prayer Request:</label><br />
            <textarea id="request" rows="4" disabled class="form-input"></textarea>
          </div>
          <div style="margin-bottom: 10px">
            <label for="days_ttl">Days to keep request active (1-90):</label><br />
            <input type="number" id="days_ttl" value="30" disabled class="form-input" />
          </div>
        </div>
        <div style="text-align: center;">
            <a href="/login" class="button">Sign In</a>
        </div>
      {% endif %}
    </div>
{% endblock %}
